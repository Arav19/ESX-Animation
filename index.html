<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dramatic Scroll Animation</title>
  <style>
    *,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family: sans-serif;
      background: #111;
      color: #fff;
      line-height: 1.5;
    }

    section {
      padding: 100px 20px;
      border-bottom: 1px solid #333;
    }

    .spacer-line {
      height: 100px;
      border-bottom: 1px dashed #444;
      margin: 40px 0;
    }

    /* === SCROLL SEQUENCE SECTION === */
    #scroll-wrapper {
      height: 150vh; /* Longer scroll area for dramatic effect */
      position: relative;
      background: #000;
    }

    #scroll-sequence {
      position: sticky;
      top: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #scroll-sequence img {
      width: min(80vw, 800px);
      max-width: 100%;
      transition: transform 0.2s ease-out;
    }
  </style>
</head>
<body>

  <!-- TOP CONTENT -->
  <section><div class="spacer-line"></div></section>
  <section><div class="spacer-line"></div></section>

  <!-- DRAMATIC SCROLL SEQUENCE -->
  <div id="scroll-wrapper">
    <div id="scroll-sequence">
      <img id="frame" src="0001.png" alt="scroll animation frame">
    </div>
  </div>

  <!-- BOTTOM CONTENT -->
  <section><div class="spacer-line"></div></section>
  <section><div class="spacer-line"></div></section>

  <script>
    const FRAME_COUNT = 90;
    const pad = n => String(n).padStart(4, '0');

    // Preload images
    const imgs = [];
    for(let i = 1; i <= FRAME_COUNT; i++) {
      const img = new Image();
      img.src = `${pad(i)}.png`;
      imgs.push(img);
    }

    const imgTag = document.getElementById('frame');
    const wrapper = document.getElementById('scroll-wrapper');

    function updateFrame() {
      const rect = wrapper.getBoundingClientRect();
      const scrollHeight = rect.height - window.innerHeight;

      if (rect.top <= 0 && rect.bottom >= window.innerHeight) {
        const scrollProgress = -rect.top / scrollHeight;
        const frameIndex = Math.min(FRAME_COUNT - 1, Math.max(0, Math.floor(scrollProgress * FRAME_COUNT)));
        imgTag.src = `${pad(frameIndex)}.png`;

        // Optional: Zoom effect
        const zoom = 1 + scrollProgress * 0.1; // 1.0 to 1.1
        imgTag.style.transform = `scale(${zoom})`;
      }
    }

    window.addEventListener('scroll', updateFrame, { passive: true });
    window.addEventListener('resize', updateFrame);
    updateFrame();
  </script>
</body>
</html>
